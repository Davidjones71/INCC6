PRAGMA foreign_keys=on;
CREATE TABLE results_rec(
	[id] INTEGER Primary Key,
	[mid] INTEGER REFERENCES measurements(id) on DELETE CASCADE,
	[original_meas_date] nvarchar(20) NULL,

	[facility] nvarchar(256) NULL,  /* from the acquire params def */
	[facility_description] nvarchar(1024) NULL,
	[mba] nvarchar(256) NULL,
	[mba_description] nvarchar(1024) NULL,
	[item_type] nvarchar(256) NULL,
	[campaign_id] nvarchar(256) NULL,
	[item_id] nvarchar(128) NULL,
	[stratum_id] nvarchar(256) NULL,
	[stratum_id_description] nvarchar(1024) NULL,
	[collar_mode] int NULL,
	[inventory_change_code] nvarchar(10) NULL,
	[io_code] nvarchar(10) NULL,
	[well_config] int NULL,
	[data_src] int NULL,
	[qc_tests] int NULL,
	[error_calc_method] int NULL,
	[acq_print] int NULL,
	[user_id] nvarchar(256) NULL,
	[comment] nvarchar(256) NULL,
	[ending_comment] nvarchar(256) NULL,
	[num_runs] int NULL,
	
	[inspection_number] nvarchar(256) NULL,  /* todo */
	
	[detector_name] nvarchar(256)  NULL,  /* from the detector def */
	[detector_type_id] int NULL,
	[detector_type_freeform] nvarchar(256) NULL,
	[electronics_id] nvarchar(256) NULL,
	[detector_alias] nvarchar(256) NULL,

	[completed] int NULL, /* oddball */
	[meas_option] nvarchar(64) NULL, 	/* oddball */

	[num_rows] int NULL,	/* holdup_config_rec */
	[num_columns] int NULL,
	[distance] float NULL,
	[glovebox_id] nvarchar(256) NULL,	

	[bias_uncertainty] float NULL, /* from the stratum */
	[random_uncertainty] float NULL,
	[systematic_uncertainty] float NULL,
	[relative_std_dev] float NULL,

	[pu238] float NULL, /* indirectly from the item */
	[pu239] float NULL,
	[pu240] float NULL,
	[pu241] float NULL,
	[pu242] float NULL,
	[am241] float NULL,
	[pu238_err] float NULL,
	[pu239_err] float NULL,
	[pu240_err] float NULL,
	[pu241_err] float NULL,
	[pu242_err] float NULL,
	[am241_err] float NULL,
	[pu_date] nvarchar(20) NULL,
	[am_date] nvarchar(20) NULL,
	[isotopics_id] nvarchar(256) NULL,
	[isotopics_source_code] nvarchar(256) NULL,

	[length] float NULL, /* from the item */
	[declared_u_mass] float NULL,
	
	[normalization_constant] float NULL,  /* from normalization */
	[normalization_constant_err] float NULL,

	[predelay] float NULL,     /* sr_parms_rec */
	[gate_length] float NULL,
	[gate_length2] float NULL,
	[high_voltage] float NULL,
	[die_away_time] float NULL,
	[efficiency] float NULL,
	[multiplicity_deadtime] float NULL,
	[coeff_a_deadtime] float NULL,
	[coeff_b_deadtime] float NULL,
	[coeff_c_deadtime] float NULL,
	[doubles_gate_fraction] float NULL,
	[triples_gate_fraction] float NULL,

	[acc_sngl_test_rate_limit] float NULL,    /* from test params */
	[acc_sngl_test_precision_limit] float NULL,
	[acc_sngl_test_outlier_limit] float NULL,
	[outlier_test_limit] float NULL,
	[bkg_doubles_rate_limit] float NULL,
	[bkg_triples_rate_limit] float NULL,
	[chisq_limit] float NULL,
	[max_num_failures] int NULL,
	[high_voltage_test_limit] float NULL,
	[normal_backup_assay_test_limit] float NULL,  
	[max_runs_for_outlier_test] float NULL,
	[checksum_test] float NULL,
	[accidentals_method] nvarchar(12) NULL,

	[passive_bkg_singles_rate] float NULL,   /* bkg_parms_rec */
	[passive_bkg_singles_rate_err] float NULL,
	[passive_bkg_doubles_rate] float NULL,
	[passive_bkg_doubles_rate_err] float NULL,
	[passive_bkg_triples_rate] float NULL,
	[passive_bkg_triples_rate_err] float NULL,
	[active_bkg_singles_rate] float NULL,
	[active_bkg_singles_rate_err] float NULL,
	[passive_bkg_scaler1_rate] float NULL,
	[passive_bkg_scaler2_rate] float NULL,
	[active_bkg_scaler1_rate] float NULL,
	[active_bkg_scaler2_rate] float NULL,
	
	[singles_sum] float NULL,   /* multiplicity */
	[scaler1_sum] float NULL,
	[scaler2_sum] float NULL,
	[reals_plus_acc_sum] float NULL,
	[acc_sum] float NULL,
	[mult_reals_plus_acc_sum] nvarchar(1024) NULL,
	[mult_acc_sum] nvarchar(1024) NULL,
	[singles] float NULL,
	[singles_err] float NULL,
	[doubles] float NULL,
	[doubles_err] float NULL,
	[triples] float NULL,
	[triples_err] float NULL,
	[scaler1] float NULL,
	[scaler1_err] float NULL,
	[scaler2] float NULL,
	[scaler2_err] float NULL,
	[uncorrected_doubles] float NULL,
	[uncorrected_doubles_err] float NULL,
	[singles_multi] float NULL,
	[doubles_multi] float NULL,
	[triples_multi] float NULL,
	[declared_mass] float NULL,
	[covariance_matrix] nvarchar(256) NULL,
	
	[primary_analysis_method] nvarchar(40) NULL, /* oddballs */
	[total_number_runs] int NULL,
	[total_good_count_time] float NULL,	
	[net_drum_weight] float NULL,
	[db_version] float NULL,
		
	[passive_DateTime] nvarchar(40) NULL,  /* to do from here */
	[passive_filename] nvarchar(1024) NULL,
	[passive_detector_id] nvarchar(256) NULL,
	[active_DateTime] nvarchar(40) NULL,
	[active_filename] nvarchar(1024) NULL,
	[active_detector_id] nvarchar(256) NULL
	/* todo: list mode params analogized to sr parms */
);
GO
CREATE TABLE results_active_passive_rec(
	[id] INTEGER Primary Key,
	[mid] INTEGER REFERENCES measurements(id)  on DELETE CASCADE,
	[delta_doubles] float,
	[delta_doubles_err] float,
	[u235_mass] float,
	[u235_mass_err] float,
	[k0] float,
	[k1] float,
	[k1_err] float,
	[k] float,
	[k_err] float,
	[dcl_u235_mass] float,
	[dcl_minus_asy_u235_mass] float,
	[dcl_minus_asy_u235_mass_err] float,
	[dcl_minus_asy_u235_mass_pct] float,
	[pass] int
);
GO
CREATE TABLE active_passive_rec_m(
	[id] INTEGER Primary Key,
	[mid] INTEGER REFERENCES measurements(id) on DELETE CASCADE,
	[rid] INTEGER REFERENCES results_active_passive_rec(id),
	[a] float,
	[b] float,
	[c] float,
	[d] float,
	[var_a] float,
	[var_b] float,
	[var_c] float,
	[var_d] float,
	[covar_ab] float,
	[covar_ac] float,
	[covar_ad] float,
	[covar_bc] float,
	[covar_bd] float,
	[covar_cd] float,
	[sigma_x] float,
	[cal_curve_equation] int,
	[lower_mass_limit] float,
	[upper_mass_limit] float
);
GO
CREATE TABLE results_add_a_source_rec(
	[id] INTEGER Primary Key,
	[mid] INTEGER REFERENCES measurements(id) on DELETE CASCADE,
	[dzero_cf252_doubles] float,
	[sample_cf252_doubles] nvarchar(512),
	[sample_cf252_doubles_err] nvarchar(512),
	[sample_cf252_ratio] nvarchar(512),
	[sample_avg_cf252_doubles] float,
	[sample_avg_cf252_doubles_err] float,
	[corr_doubles] float,
	[corr_doubles_err] float,
	[delta] float,
	[delta_err] float,
	[corr_factor] float,
	[corr_factor_err] float,
	[pu240e_mass] float,
	[pu240e_mass_err] float,
	[pu_mass] float,
	[pu_mass_err] float,
	[dcl_pu240e_mass] float,
	[dcl_pu_mass] float,
	[dcl_minus_asy_pu_mass] float,
	[dcl_minus_asy_pu_mass_err] float,
	[dcl_minus_asy_pu_mass_pct] float,
	[pass] int,
	[tm_doubles_bkg] float,
	[tm_doubles_bkg_err] float,
	[tm_uncorr_doubles] float,
	[tm_uncorr_doubles_err] float,
	[tm_corr_doubles] float,
	[tm_corr_doubles_err] float,
	[add_a_source_equation] int
);
GO
CREATE TABLE add_a_source_rec_m(
	[id] INTEGER Primary Key,
	[mid] INTEGER REFERENCES measurements(id) on DELETE CASCADE,
	[rid] INTEGER REFERENCES results_add_a_source_rec(id),
	[a] float,
	[b] float,
	[c] float,
	[d] float,
	[var_a] float,
	[var_b] float,
	[var_c] float,
	[var_d] float,
	[covar_ab] float,
	[covar_ac] float,
	[covar_ad] float,
	[covar_bc] float,
	[covar_bd] float,
	[covar_cd] float,
	[sigma_x] float,
	[cal_curve_equation] int,
	[cf_a] float,
	[cf_b] float,
	[cf_c] float,
	[cf_d] float,
	[dzero_avg] float,
	[position_dzero] nvarchar(256),
	[dzero_ref_date] nvarchar(40),   
	[num_runs] int,
	[use_truncated_mult] int,
	[tm_weighting_factor] float,
	[tm_dbls_rate_upper_limit] float, 
	[lower_mass_limit] float,
	[upper_mass_limit] float,
	[dcl_mass] ntext,
	[doubles] ntext
);
GO
CREATE TABLE results_cal_curve_rec(
	[id] INTEGER Primary Key,
	[mid] INTEGER REFERENCES measurements(id) on DELETE CASCADE,
	[pu240e_mass] float,
	[pu240e_mass_err] float,
	[pu_mass] float,
	[pu_mass_err] float,
	[dcl_pu240e_mass] float,
	[dcl_pu_mass] float,
	[dcl_minus_asy_pu_mass] float,
	[dcl_minus_asy_pu_mass_err] float,
	[dcl_minus_asy_pu_mass_pct] float,
	[pass] int,
	[dcl_u_mass] float,
	[length] float,
	[heavy_metal_content] float,
	[heavy_metal_correction] float,
	[heavy_metal_corr_singles] float,
	[heavy_metal_corr_singles_err] float,
	[heavy_metal_corr_doubles] float,
	[heavy_metal_corr_doubles_err] float
);
GO
CREATE TABLE cal_curve_rec_m(
	[id] INTEGER Primary Key,
	[mid] INTEGER REFERENCES measurements(id) on DELETE CASCADE,
	[rid] INTEGER REFERENCES results_cal_curve_rec(id),
	[a] float,
	[b] float,
	[c] float,
	[d] float,
	[var_a] float,
	[var_b] float,
	[var_c] float,
	[var_d] float,
	[covar_ab] float,
	[covar_ac] float,
	[covar_ad] float,
	[covar_bc] float,
	[covar_bd] float,
	[covar_cd] float,
	[sigma_x] float,
	[cal_curve_type] int,
	[cal_curve_equation] int,
	[heavy_metal_corr_factor] float,
	[heavy_metal_reference] float,
	[percent_u235] float,
	[lower_mass_limit] float,
	[upper_mass_limit] float,
	[dcl_mass] ntext,
	[doubles] ntext
);
GO
CREATE TABLE results_curium_ratio_rec(
	[id] INTEGER Primary Key,
	[mid] INTEGER REFERENCES measurements(id) on DELETE CASCADE,
	[pu240e_mass] float,
	[pu240e_mass_err] float,
	[cm_mass] float,
	[cm_mass_err] float,
	[pu_mass] float,
	[pu_mass_err] float,
	[u_mass] float,
	[u_mass_err] float,
	[u235_mass] float,
	[u235_mass_err] float,
	[dcl_pu_mass] float,
	[dcl_minus_asy_pu_mass] float,
	[dcl_minus_asy_pu_mass_err] float,
	[dcl_minus_asy_pu_mass_pct] float,
	[dcl_minus_asy_u_mass] float,
	[dcl_minus_asy_u_mass_err] float,
	[dcl_minus_asy_u_mass_pct] float,
	[dcl_minus_asy_u235_mass] float,
	[dcl_minus_asy_u235_mass_err] float,
	[dcl_minus_asy_u235_mass_pct] float,
	[pu_pass] int,
	[u_pass] int,
	[cm_pu_ratio] float,
	[cm_pu_ratio_err] float,
	[pu_half_life] float,
	[cm_pu_ratio_date] nvarchar(40),
	[cm_u_ratio] float,
	[cm_u_ratio_err] float,
	[cm_u_ratio_date] nvarchar(40),
	[cm_id_label] nvarchar(512),
	[cm_id] nvarchar(512),
	[cm_input_batch_id] nvarchar(512),
	[dcl_u_mass] float,
	[dcl_u235_mass] float,
	[cm_pu_ratio_decay_corr] float,
	[cm_pu_ratio_decay_corr_err] float,
	[cm_u_ratio_decay_corr] float,
	[cm_u_ratio_decay_corr_err] float
);
GO
CREATE TABLE curium_ratio_rec_m(
	[id] INTEGER Primary Key,
	[mid] INTEGER REFERENCES measurements(id) on DELETE CASCADE,
	[rid] INTEGER REFERENCES results_curium_ratio_rec(id),
	[a] float,
	[b] float,
	[c] float,
	[d] float,
	[var_a] float,
	[var_b] float,
	[var_c] float,
	[var_d] float,
	[covar_ab] float,
	[covar_ac] float,
	[covar_ad] float,
	[covar_bc] float,
	[covar_bd] float,
	[covar_cd] float,
	[sigma_x] float,
	[cal_curve_equation] int,
	[curium_ratio_type] int,
	[lower_mass_limit] float,
	[upper_mass_limit] float
);
GO    
CREATE TABLE results_known_alpha_rec(
	[id] INTEGER Primary Key,
	[mid] INTEGER REFERENCES measurements(id) on DELETE CASCADE,
	[mult] float,
	[alpha] float,
	[mult_corr_doubles] float,
	[mult_corr_doubles_err] float,
	[pu240e_mass] float,
	[pu240e_mass_err] float,
	[pu_mass] float,
	[pu_mass_err] float,
	[dcl_pu240e_mass] float,
	[dcl_pu_mass] float,
	[dcl_minus_asy_pu_mass] float,
	[dcl_minus_asy_pu_mass_err] float,
	[dcl_minus_asy_pu_mass_pct] float,
	[pass] int,
	[dcl_u_mass] float,
	[length] float,
	[heavy_metal_content] float,
	[heavy_metal_correction] float,
	[corr_singles] float,
	[corr_singles_err] float,
	[corr_doubles] float,
	[corr_doubles_err] float,
	[corr_factor] float,
	[dry_alpha_or_mult_dbls] float
);
GO
CREATE TABLE known_alpha_rec_m(
	[id] INTEGER Primary Key,
	[mid] INTEGER REFERENCES measurements(id) on DELETE CASCADE,
	[rid] INTEGER REFERENCES results_known_alpha_rec(id),
	[alpha_wt] float,
	[rho_zero] float,
	[k] float,
	[a] float,
	[b] float,
	[var_a] float,
	[var_b] float,
	[covar_ab] float,
	[sigma_x] float,
	[known_alpha_type] int,
	[heavy_metal_corr_factor] float,
	[heavy_metal_reference] float,
	[ring_ratio_equation] int,
	[ring_ratio_a] float,
	[ring_ratio_b] float,
	[ring_ratio_c] float,
	[ring_ratio_d] float,
	[lower_corr_factor_limit] float,
	[upper_corr_factor_limit] float,
	[lower_mass_limit] float,
	[upper_mass_limit] float,
	[dcl_mass] ntext,
	[doubles] ntext
);
GO
CREATE TABLE results_known_m_rec(
	[id] INTEGER Primary Key,
	[mid] INTEGER REFERENCES measurements(id) on DELETE CASCADE,
	[mult] float,
	[mult_err] float,
	[alpha] float,
	[alpha_err] float,
	[pu239e_mass] float,
	[pu240e_mass] float,
	[pu240e_mass_err] float,
	[pu_mass] float,
	[pu_mass_err] float,
	[dcl_pu240e_mass] float,
	[dcl_pu_mass] float,
	[dcl_minus_asy_pu_mass] float,
	[dcl_minus_asy_pu_mass_err] float,
	[dcl_minus_asy_pu_mass_pct] float,
	[pass] int
);
GO
CREATE TABLE known_m_rec_m(
	[id] INTEGER Primary Key,
	[mid] INTEGER REFERENCES measurements(id) on DELETE CASCADE,
	[rid] INTEGER REFERENCES results_known_m_rec(id),
	[sf_rate] float,
	[vs1] float,
	[vs2] float,
	[vi1] float,
	[vi2] float,
	[b] float,
	[c] float,
	[sigma_x] float,
	[lower_mass_limit] float,
	[upper_mass_limit] float
);
GO
CREATE TABLE results_multiplicity_rec(
	[id] INTEGER Primary Key,
	[mid] INTEGER REFERENCES measurements(id) on DELETE CASCADE,
	[mult] float,
	[mult_err] float,
	[alpha] float,
	[alpha_err] float,
	[corr_factor] float,
	[corr_factor_err] float,
	[efficiency] float,
	[efficiency_err] float,
	[pu240e_mass] float,
	[pu240e_mass_err] float,
	[pu_mass] float,
	[pu_mass_err] float,
	[dcl_pu240e_mass] float,
	[dcl_pu_mass] float,
	[dcl_minus_asy_pu_mass] float,
	[dcl_minus_asy_pu_mass_err] float,
	[dcl_minus_asy_pu_mass_pct] float,
	[pass] int
);
GO
CREATE TABLE multiplicity_rec_m(
	[id] INTEGER Primary Key,
	[mid] INTEGER REFERENCES measurements(id) on DELETE CASCADE,
	[rid] INTEGER REFERENCES results_multiplicity_rec(id),
	[solve_efficiency] int,
	[sf_rate] float,
	[vs1] float,
	[vs2] float,
	[vs3] float,
	[vi1] float,
	[vi2] float,
	[vi3] float,
	[a] float,
	[b] float,
	[c] float,
	[sigma_x] float,
	[alpha_weight] float,
	[lower_mass_limit] float,
	[upper_mass_limit] float,
	[eff_cor] float
);
GO
CREATE TABLE results_truncated_mult_rec(
	[id] INTEGER Primary Key,
	[mid] INTEGER REFERENCES measurements(id) on DELETE CASCADE,
	[bkg_singles] float,
	[bkg_singles_err] float,
	[bkg_zeroes] float,
	[bkg_zeroes_err] float,
	[bkg_ones] float,
	[bkg_ones_err] float,
	[bkg_twos] float,
	[bkg_twos_err] float,
	[net_singles] float,
	[net_singles_err] float,
	[net_zeroes] float,
	[net_zeroes_err] float,
	[net_ones] float,
	[net_ones_err] float,
	[net_twos] float,
	[net_twos_err] float,
	[k_alpha] float,
	[k_alpha_err] float,	
	[k_pu240e_mass] float,
	[k_pu240e_mass_err] float,
	[k_pu_mass] float,
	[k_pu_mass_err] float,
	[k_dcl_pu240e_mass] float,
	[k_dcl_pu_mass] float,
	[k_dcl_minus_asy_pu_mass] float,
	[k_dcl_minus_asy_pu_mass_err] float,
	[k_dcl_minus_asy_pu_mass_pct] float,
	[k_pass] int,
	[s_eff] float,
	[s_eff_err] float,	
	[s_alpha] float,
	[s_alpha_err] float,	
	[s_pu240e_mass] float,
	[s_pu240e_mass_err] float,
	[s_pu_mass] float,
	[s_pu_mass_err] float,
	[s_dcl_pu240e_mass] float,
	[s_dcl_pu_mass] float,
	[s_dcl_minus_asy_pu_mass] float,
	[s_dcl_minus_asy_pu_mass_err] float,
	[s_dcl_minus_asy_pu_mass_pct] float,
	[s_pass] int
);
GO
CREATE TABLE truncated_mult_rec_m(
	[id] INTEGER Primary Key,
	[mid] INTEGER REFERENCES measurements(id) on DELETE CASCADE,
	[rid] INTEGER REFERENCES results_multiplicity_rec(id),
	[a] float,
	[b] float,
	[known_eff] int,
	[solve_eff] int
);
GO
CREATE TABLE results_active_rec(
	[id] INTEGER Primary Key,
	[mid] INTEGER REFERENCES measurements(id) on DELETE CASCADE,
	[k0] float,
	[k1] float,
	[k1_err] float,
	[k_err] float,
	[k] float,
	[u235_mass] float,
	[u235_mass_err] float,
	[dcl_u235_mass] float,
	[dcl_minus_asy_u235_mass] float,
	[dcl_minus_asy_u235_mass_err] float,
	[dcl_minus_asy_u235_mass_pct] float,
	[pass] int
 );
GO
CREATE TABLE active_rec_m(
	[id] INTEGER Primary Key,
	[mid] INTEGER REFERENCES measurements(id) on DELETE CASCADE,
	[rid] INTEGER REFERENCES results_active_rec(id),
	[a] float,
	[b] float,
	[c] float,
	[d] float,
	[var_a] float,
	[var_b] float,
	[var_c] float,
	[var_d] float,
	[covar_ab] float,
	[covar_ac] float,
	[covar_ad] float,
	[covar_bc] float,
	[covar_bd] float,
	[covar_cd] float,
	[sigma_x] float,
	[cal_curve_equation] int,
	[lower_mass_limit] float,
	[upper_mass_limit] float,
	[dcl_mass] ntext,
	[doubles] ntext
);
GO
CREATE TABLE results_active_mult_rec(
	[id] INTEGER Primary Key,
	[mid] INTEGER REFERENCES measurements(id) on DELETE CASCADE,
    [mult] float,
    [mult_err] float
);
GO
CREATE TABLE active_mult_rec_m(
	[id] INTEGER Primary Key,
	[mid] INTEGER REFERENCES measurements(id) on DELETE CASCADE,
	[rid] INTEGER REFERENCES results_active_mult_rec(id),
	[vt1] float,
	[vt2] float,
	[vt3] float,
	[vf1] float,
	[vf2] float,
	[vf3] float
);
GO
CREATE TABLE results_collar_rec(
	[id] INTEGER Primary Key,
	[mid] INTEGER REFERENCES measurements(id) on DELETE CASCADE,
	[u235_mass] float,
	[u235_mass_err] float,
	[percent_u235] float,
	[total_u_mass] float,
	[k0] float,
	[k0_err] float,
	[k1] float,
	[k1_err] float,
	[k2] float,
	[k2_err] float,
	[k3] float,
	[k3_err] float,
	[k4] float,
	[k4_err] float,
	[k5] float,
	[k5_err] float,
	[total_corr_fact] float,
	[total_corr_fact_err] float,
	[source_id] nvarchar(128),
	[corr_doubles] float,
	[corr_doubles_err] float,
	[dcl_length] float,
	[dcl_length_err] float,
	[dcl_total_u235] float,
	[dcl_total_u235_err] float,
	[dcl_total_u238] float,
	[dcl_total_u238_err] float,
	[dcl_total_rods] float,
	[dcl_total_poison_rods] float,
	[dcl_poison_percent] float,
	[dcl_poison_percent_err] float,
	[dcl_minus_asy_u235_mass] float,
	[dcl_minus_asy_u235_mass_err] float,
	[dcl_minus_asy_u235_mass_pct] float,
	[pass] int
);
GO
CREATE TABLE collar_rec_m(
	[id] INTEGER Primary Key,
	[mid] INTEGER REFERENCES measurements(id) on DELETE CASCADE,
	[rid] INTEGER REFERENCES results_collar_rec(id),
	[a] float,
	[b] float,
	[c] float,
	[d] float,
	[var_a] float,
	[var_b] float,
	[var_c] float,
	[var_d] float,
	[covar_ab] float,
	[covar_ac] float,
	[covar_ad] float,
	[covar_bc] float,
	[covar_bd] float,
	[covar_cd] float,
	[sigma_x] float,
	[cal_curve_equation] int,
	[lower_mass_limit] float,
	[upper_mass_limit] float,
	[number_calib_rods] int,
	[collar_mode] int,
	[poison_rod_type] ntext,
	[poison_absorption_fact] ntext,
	[poison_rod_a] ntext,
	[poison_rod_a_err] ntext,
	[poison_rod_b] ntext,
	[poison_rod_b_err] ntext,
	[poison_rod_c] ntext,
	[poison_rod_c_err] ntext,
	[u_mass_corr_fact_a] float,
	[u_mass_corr_fact_a_err] float,
	[u_mass_corr_fact_b] float,
	[u_mass_corr_fact_b_err] float,
	[sample_corr_fact] float,
	[sample_corr_fact_err] float, 
	/* collar_detector_rec */
	[reference_date] nvarchar(40),
	[relative_doubles_rate] float,
	[collar_detector_mode] int,
	/* collar_k5_rec */
	[k5_mode] int,
	[k5_label] ntext,
	[k5_checkbox] ntext,
	[k5] ntext,
	[k5_err] ntext
);
GO
CREATE TABLE results_de_mult_rec(
	[id] INTEGER Primary Key,
	[mid] INTEGER REFERENCES measurements(id) on DELETE CASCADE,
    [de_energy_corr_factor] float,
	[interpolated_neutron_energy] float,
	[energy_corr_factor] float
);
GO
CREATE TABLE de_mult_rec_m(
	[id] INTEGER Primary Key,
	[mid] INTEGER REFERENCES measurements(id) on DELETE CASCADE,
	[rid] INTEGER REFERENCES results_de_mult_rec(id),
	[neutron_energy] ntext NULL,
	[detector_efficiency] ntext NULL,
	[inner_outer_ring_ratio] ntext NULL,
	[inner_ring_efficiency] float,
	[outer_ring_efficiency] float
);
GO
CREATE TABLE results_tm_bkg_rec(
	[id] INTEGER Primary Key,
	[mid] INTEGER REFERENCES measurements(id) on DELETE CASCADE,
	[tm_singles_bkg] float NULL,
	[tm_singles_bkg_err] float NULL,
	[tm_zeros_bkg] float NULL,
	[tm_zeros_bkg_err] float NULL,
	[tm_ones_bkg] float NULL,
	[tm_ones_bkg_err] float NULL,
	[tm_twos_bkg] float NULL,
	[tm_twos_bkg_err] float NULL
);
GO
/* todo: URGENT tm_bkg_parms_rec */

CREATE TABLE results_init_src_rec(
	[id] INTEGER Primary Key,
	[mid] INTEGER REFERENCES measurements(id) on DELETE CASCADE,
	[init_src_id] nvarchar(512),
	[pass] int,
	[mode] int
);
GO
CREATE TABLE results_bias_rec(
	[id] INTEGER Primary Key,
	[mid] INTEGER REFERENCES measurements(id) on DELETE CASCADE,
	[source_id] nvarchar(512),
	[pass] int,
	[mode] int,
	[sngls_rate_expect] float,
	[sngls_rate_expect_err] float,
	[sngls_rate_expect_meas] float,
	[sngls_rate_expect_meas_err] float,
	[dbls_rate_expect] float,
	[dbls_rate_expect_err] float,
	[dbls_rate_expect_meas] float,
	[dbls_rate_expect_meas_err] float,
	[new_norm_constant] float,
	[new_norm_constant_err] float,
	[meas_precision] float,
	[required_precision] float,
	[required_meas_seconds] float
);
GO
CREATE TABLE results_precision_rec(
	[id] INTEGER Primary Key,
	[mid] INTEGER REFERENCES measurements(id) on DELETE CASCADE,
	[pass] int,
	[sample_var] float,
	[theoretical_var] float,
	[chi_sq] float,
	[chi_sq_lower_limit] float,
	[chi_sq_upper_limit] float
);
GO
CREATE TABLE analysis_messages(
	[mid] INTEGER REFERENCES measurements(id) on DELETE CASCADE,
	[msgid] int NOT NULL,
	[level] int NOT NULL,
	[text] nvarchar(1024),
	[ts] datetime NOT NULL 
);
GO
